function u(l){return l.replace(/([A-Z])/g,"-$1").toLowerCase()}function p(l,r){for(;r.firstChild;)r.removeChild(r.firstChild);let a;if(typeof l=="string")a=document.createElement("div"),a.innerHTML=l;else{if(!l.nodeName)throw new Error(`Unable to render ${l}. Have you included a renderer function?`);a=l}a&&r.appendChild(a)}function m(l,r){const a=function(e){if(!e)return[];const n=[];return Object.keys(e).forEach(t=>{(e[t].observed==null||e[t].observed)&&n.push(u(t))}),n}(r.props);globalThis.customElements.get(l)||globalThis.customElements.define(l,class extends globalThis.HTMLElement{static get observedAttributes(){return a}get componentTagName(){return l}connectedCallback(){this.connectedCallbackCount==null&&(this.connectedCallbackCount=0),this.connectedCallbackCount=this.connectedCallbackCount+1,this._checkInit(),this._preprocess()}disconnectedCallback(){typeof this.removed=="function"&&(this.removed(),this.isRemovedCalled=!0)}attributeChangedCallback(){this.connectedCallbackCount!=null&&(this._checkInit(),this._preprocess())}get initialised(){return this._props&&this._computed&&this.templateRenderer}_checkInit(){this.initialised||this._init(r)}_init(e){this.ficusCustomElement=l,this._props=e.props||{},this._computed=e.computed||{},this.computedCache={},this.status="render",this.connectedCallbackCount=0,this.props=this._processProps(),this.root=this._processRoot(e.root),this.slots=this._processSlots(),this.render=e.render||null,this.templateRenderer=e.renderer||p,this.template=null,this.created=e.created||null,this.mounted=e.mounted||null,this.updated=e.updated||null,this.removed=e.removed||null,this.isCreatedCalled=!1,this.isMountedCalled=!1,this.isRemovedCalled=!1,this.emit=(n,t)=>{(function(s,c,o={}){const h=Object.assign({},{bubbles:!0,cancelable:!0,composed:!1},o),i=globalThis.document.createEvent("CustomEvent");i.initCustomEvent(c,h.bubbles,h.cancelable,h.detail),Object.defineProperty(i,"composed",{value:h.composed}),s.dispatchEvent(i)})(this,n,{detail:t})},this._processMethodsAndComputedProps(e),this._processInstanceProps(this._props),typeof this.created!="function"||this.isCreatedCalled||(this.created(),this.isCreatedCalled=!0)}_processProps(){const e={};return Object.keys(this._props).forEach(n=>{const t={},s=this._props[n],c=this._getAttribute(n);let o=null;if(s.default!=null&&(o=s.default),s.required&&c==null)o!=null?(console.info(`No biggie, the required prop '${n}' has no value set, so the default has been set`),t[n]=o):(t[n]=null,console.error(`The required prop '${n}' has no value set`));else switch(s.type){case String:default:t[n]=c||o;break;case Number:t[n]=c!=null?parseFloat(c):o!=null?o:0;break;case Boolean:t[n]=c!=null?c.toString()==="true":o!=null&&o;break;case Object:try{t[n]=c!=null?JSON.parse(c):o!=null?o:void 0}catch(h){t[n]=o!=null?o:void 0,console.error(`An object prop parse issue occurred with prop ${n} and value ${c}`)}}e[n]=t[n],this._instanceProps&&this._instanceProps[n]&&(e[n]=this._instanceProps[n])}),e}_processMethodsAndComputedProps(e){const n=this,t=Object.keys(e);t.length&&t.forEach(s=>{n[s]||typeof e[s]!="function"||(n[s]=e[s].bind(n)),s==="computed"&&this._processComputed(e[s])})}_processRoot(e){switch(e){case"standard":default:return this;case"shadow":return this.attachShadow({mode:"open"});case"shadow:closed":return this.attachShadow({mode:"closed"})}}_processComputed(e){const n=this,t=Object.keys(e);t.length&&t.forEach(s=>{n[s]?console.warn(`Computed property '${s}' already exists on the component instance`):Object.defineProperty(n,s,{get:()=>(n.computedCache[s]||(n.computedCache[s]=e[s].bind(n)()),n.computedCache[s])})})}_processRender(){const e=this.render?this.render():void 0;e&&(this.template=e,this._updateRender())}_processSlots(){const e=this.childNodes,n={default:[]};return e.length>0&&[...e].forEach(t=>{const s=t.getAttribute?t.getAttribute("slot"):null;s?n[s]=t:n.default.push(t)}),n}_getAttribute(e){try{return this.getAttribute(u(e))}catch(n){return console.error("A get prop error occurred",n),""}}_processInstanceProps(e){const n=this,t=Object.keys(e);e&&t.forEach(s=>{let c;n[s]&&(c=n[s],delete n[s]),Object.defineProperty(n,s,{get(){return this._instanceProps&&this._instanceProps[s]?this._instanceProps[s]:this.getAttribute(u(s))},set(o){return this._instanceProps||(this._instanceProps={}),this._instanceProps[s]=o,this.setAttribute(u(s),typeof o=="object"?JSON.stringify(o):o.toString()),!0},enumerable:!0}),c&&(n[s]=c)})}_preprocess(){this.computedCache={},this.props=this._processProps(),this._processRender()}_updateRender(){var e;this.template&&(typeof(e=this.template)!="object"&&typeof e!="function"||typeof e.then!="function"?(this.templateRenderer(this.template,this.root),this._callLifecycleMethods()):this.template.then(n=>{this.templateRenderer(n,this.root),this._callLifecycleMethods()}).catch(n=>console.error("A component render error occurred",n)))}_callLifecycleMethods(){typeof this.mounted!="function"||this.isMountedCalled||this.mounted(),this.isMountedCalled=!0,typeof this.updated=="function"&&this.isMountedCalled&&this.updated()}})}var f=function(l){const r=arguments,a=this;let e,n,t=1,s="",c="",o=[0];const h=i=>{t===1&&(i||(s=s.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?o.push(i?r[i]:s):t===3&&(i||s)?(o[1]=i?r[i]:s,t=2):t===2&&s==="..."&&i?o[2]=Object.assign(o[2]||{},r[i]):t===2&&s&&!i?(o[2]=o[2]||{})[s]=!0:t>=5&&(t===5?((o[2]=o[2]||{})[n]=i?s?s+r[i]:r[i]:s,t=6):(i||s)&&(o[2][n]+=i?s+r[i]:s)),s=""};for(let i=0;i<l.length;i++){i&&(t===1&&h(),h(i));for(let d=0;d<l[i].length;d++)e=l[i][d],t===1?e==="<"?(h(),o=[o,"",null],t=3):s+=e:t===4?s==="--"&&e===">"?(t=1,s=""):s=e+s[0]:c?e===c?c="":s+=e:e==='"'||e==="'"?c=e:e===">"?(h(),t=1):t&&(e==="="?(t=5,n=s,s=""):e==="/"&&(t<5||l[i][d+1]===">")?(h(),t===3&&(o=o[0]),t=o,(o=o[0]).push(a.apply(null,t.slice(1))),t=0):e===" "||e==="	"||e===`
`||e==="\r"?(h(),t=2):s+=e),t===3&&s==="!--"&&(t=4,o=o[0])}return h(),o.length>2?o.slice(1):o[1]};const b=f.bind((l,r,...a)=>{let e=null,n=!1;["svg","use","symbol","path","g","defs","title"].indexOf(l)>-1?(e=document.createElementNS("http://www.w3.org/2000/svg",l),n=!0):e=document.createElement(l);for(const t in r)if(t.slice(0,2)==="on"){const s=t.slice(2),c=r[t];if(c==null)continue;e.addEventListener(s,c)}else if(["disabled","selected","checked"].indexOf(t)>-1)r[t]&&e.setAttribute(t,t);else if(t==="xlinkHref"&&n)r[t]&&e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r[t]);else if(t==="href"&&n)r[t]&&e.setAttributeNS("http://www.w3.org/1999/xlink","href",r[t]);else{if(r[t]==null)continue;e.setAttribute(t,r[t])}return a.length===0?e:(a.flat(1).forEach(t=>{t instanceof Node?e.appendChild(t):e.appendChild(document.createTextNode(t))}),l==null?e.children:e)});function C(l,r){for(;r.firstChild;)r.removeChild(r.firstChild);Array.isArray(l)?l.forEach(a=>r.appendChild(a)):r.appendChild(l)}export{m as c,b as e,C as r};
